#include "Player.h"

//const char* Player::IMAGE = 

Player::Player()
{

}

int Player::initialize()
{
	frame = 0;
	minFrame = 0;
	maxFrame = 2;
	totalFrames = 3;
	fps = 21;

	width = 48;
	height = 48;
	x = 350;
	y = 920;
	scale = 1.0f;

	accel = 2;
	deccl = 1;

	char* buffer = "000000000000000000000111111000000000000000000000000000000000000000001111111100000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000020000000000000000011111111110000000000000000020022000000000000000011111111110000000000000000220022000000000000000111111111111000000000000000220022000000000000000111111111111000000000000000220022000000000000000111111111111000000000000000220022000000000000000111333333111000000000000000220022000000000000000113333333311000000000000000220022000000000000000113333333311000000000000000220022000000000000000113333333311000000000000000220022000000000000000113333333311000000000000000220022000000000000001113333333311100000000000000220022000000220000011113333333311110000022000000220022000000220000111113333333311111000022000000220022000000220001113113333333311311100022000000220022000000220011133133333333331331110022000000220222200000220111133133333333331331111022000002222222200000221111133133333333331331111122000002222223200000221111333111111111111333111122000002322222200001221111333111111111111333111122100002222222200111221111333111111111111333111122111002222222211111221111331111111111111133111122111112222222211111111111111111111111111111111111111112222222211111111111111111111111111111111111111112222222211111111111111111111111111111111111111112222222211111111111111111111111111111111111111112222211211111111111111111111111111111111111111112112222211111111111111111111111111111111111111112222222200000001111111111000000111111111100000002222000000000000111111110000000011111111000000000000000000000000444444440000000044444444000000000000000000000500444544440000004044454444500000000000000000000000445454440000000044545444040000000000000000000000455455450000050045545545000000000000000000000000055505404000000005550540000000000000000000000000000005500000000000000550000000000000000000000000000000000000000000000000000000000000000000000000000000000111111000000000000000000000000000000000000000001111111100000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000020000000000000000011111111110000000000000000020022000000000000000011111111110000000000000000220022000000000000000111111111111000000000000000220022000000000000000111111111111000000000000000220022000000000000000111111111111000000000000000220022000000000000000111333333111000000000000000220022000000000000000113333333311000000000000000220022000000000000000113333333311000000000000000220022000000000000000113333333311000000000000000220022000000000000000113333333311000000000000000220022000000000000001113333333311100000000000000220022000000220000011113333333311110000022000000220022000000220000111113333333311111000022000000220022000000220001113113333333311311100022000000220022000000220011133133333333331331110022000000220222200000220111133133333333331331111022000002222222200000221111133133333333331331111122000002222223200000221111333111111111111333111122000002322222200001221111333111111111111333111122100002222222200111221111333111111111111333111122111002222222211111221111331111111111111133111122111112222222211111111111111111111111111111111111111112222222211111111111111111111111111111111111111112222222211111111111111111111111111111111111111112222222211111111111111111111111111111111111111112222211211111111111111111111111111111111111111112112222211111111111111111111111111111111111111112222222200000001111111111000000111111111100000002222000000000000111111110000000011111111000000000000000000000000444444440000000044444444000000000000000000000004454555454000000445455545400000000000000000000400455555540500000045555554000000000000000000000000455555540000040045555554000000000000000000000000055555500000000005555550000000000000000000000000005555000000000000555500050000000000000000000000000550000000000000055000000000000000000000000000000000000111111000000000000000000000000000000000000000001111111100000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000000000000000000000011111111110000000000000000000020000000000000000011111111110000000000000000020022000000000000000011111111110000000000000000220022000000000000000111111111111000000000000000220022000000000000000111111111111000000000000000220022000000000000000111111111111000000000000000220022000000000000000111333333111000000000000000220022000000000000000113333333311000000000000000220022000000000000000113333333311000000000000000220022000000000000000113333333311000000000000000220022000000000000000113333333311000000000000000220022000000000000001113333333311100000000000000220022000000220000011113333333311110000022000000220022000000220000111113333333311111000022000000220022000000220001113113333333311311100022000000220022000000220011133133333333331331110022000000220222200000220111133133333333331331111022000002222222200000221111133133333333331331111122000002222223200000221111333111111111111333111122000002322222200001221111333111111111111333111122100002222222200111221111333111111111111333111122111002222222211111221111331111111111111133111122111112222222211111111111111111111111111111111111111112222222211111111111111111111111111111111111111112222222211111111111111111111111111111111111111112222222211111111111111111111111111111111111111112222211211111111111111111111111111111111111111112112222211111111111111111111111111111111111111112222222200000001111111111000000111111111100000002222000000000000111111110000000011111111000000000000000000000000444444440000000044444444000000000000000000000050445454540000000045454544000000000000000000000000455454540000000045454554000000000000000000000000055455550000000055554550000000000000000000000000055505500000000405555550000000000000000000000000050505504000000005505050000000000000000000000000000500050000000040005000500000000000";

	pallet[0] = 0x00000000;
	pallet[1] = 0x00ABABAB;
	pallet[2] = 0x00ff0000;
	pallet[3] = 0x00ffC90E;
	pallet[4] = 0x0091C7F2;
	pallet[5] = 0x00F1F9FE;

	if (totalFrames > 0)
	{
		img = new int**[totalFrames];
		for (int z = 0; z < totalFrames; z++)
		{
			img[z] = new int*[height];
			for (int y = 0; y < height; y++)
			{
				img[z][y] = new int[width];
				for (int x = 0; x < width; x++)
				{
					img[z][y][x] = pallet[buffer[x + y*width + z*height*width] - 48];
				}
			}
		}
	}
	hp = 1;
	state = 0x00000001;
	return(1);
}

int Player::update(int _delta)
{
	lifeTime += _delta;
	if (lifeTime - frameTime > 1000 / fps)
	{
		frameTime = lifeTime;
		frame++;
		if (frame > maxFrame)
		{
			frame = minFrame;
		}
	}
	return(1);
}

Player::~Player()
{
}